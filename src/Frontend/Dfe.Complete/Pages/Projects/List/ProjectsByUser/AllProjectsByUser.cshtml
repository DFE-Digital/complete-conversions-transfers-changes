@page "/projects/all/users"
@using Dfe.Complete.Application.Mappers
@model Dfe.Complete.Pages.Projects.List.ProjectsByUser.AllProjectsByUser

@{
  Layout = "List/ProjectsByUser/_ProjectsByUserLayout";
  ViewData["Title"] = "All projects by user";
}

@section PageHeading
{
  <h1 class="govuk-heading-l">
    All projects by user
  </h1>
}

<div class="govuk-grid-column-full">
  <table class="govuk-table" name="projects_table" aria-label="Projects table">
    <thead class="govuk-table__head">
    <tr class="govuk-table__row">
      <th class="govuk-table__header" scope="col">User name</th>
      <th class="govuk-table__header" scope="col">Email</th>
      <th class="govuk-table__header" scope="col">Team</th>
      <th class="govuk-table__header" scope="col">Conversions</th>
      <th class="govuk-table__header" scope="col">Transfers</th>
    </tr>
    </thead>
    <tbody class="govuk-table__body">

    @foreach(var user in Model.Users)
    {
      <tr class="govuk-table__row">
        <td class="govuk-table__header govuk-table__cell">
          <a class="govuk-link" href="/projects/all/users/@user.Id.Value">@user.FullName</a>
        </td>
        <td class="govuk-table__cell">@user.Email</td>
        <td class="govuk-table__cell">@ProjectTeamPresentationMapper.Map(user.Team)</td>
        <td class="govuk-table__cell">@user.ConversionProjectsAssigned</td>
        <td class="govuk-table__cell">@user.TransferProjectsAssigned</td>
      </tr>
    }
    </tbody>
  </table>
</div>
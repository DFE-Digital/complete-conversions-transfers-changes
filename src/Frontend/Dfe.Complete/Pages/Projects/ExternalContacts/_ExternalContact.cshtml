@using Dfe.Complete.Constants
@using Dfe.Complete.Models.ExternalContact
@model  ExternalContactModel
@{
    var editContactPageRoute = "#";

    if (!string.IsNullOrWhiteSpace(Model.Contact.ProjectId?.Value.ToString()))
    {
        editContactPageRoute = string.Format(RouteConstants.ProjectsExternalContactEdit, Model.Contact.ProjectId.Value, Model.Contact.Id.Value);     
    }
}

<govuk-summary-card>
  <govuk-summary-card-title heading-level="3">
    @Model.Contact.Title
  </govuk-summary-card-title>
  @if (Model.IsEditable)
  {
    <govuk-summary-card-actions>
            <govuk-summary-card-action href="@editContactPageRoute">
        Edit contact
      </govuk-summary-card-action>
    </govuk-summary-card-actions>
  }
  <govuk-summary-list>
    <govuk-summary-list-row>
      <govuk-summary-list-row-key>
        Name
      </govuk-summary-list-row-key>
      <govuk-summary-list-row-value>
        @Model.Contact.Name
      </govuk-summary-list-row-value>
    </govuk-summary-list-row>
    @if (Model is { ShowOrganisation: true, Contact.OrganisationName: not null })
    {
    <govuk-summary-list-row>
      <govuk-summary-list-row-key>
        Organisation
      </govuk-summary-list-row-key>
      <govuk-summary-list-row-value>
        @Model.Contact.OrganisationName
      </govuk-summary-list-row-value>
    </govuk-summary-list-row>
    }
    @if (!string.IsNullOrEmpty(Model.Contact.Email))
    {
      <govuk-summary-list-row>
        <govuk-summary-list-row-key>
          Email
        </govuk-summary-list-row-key>
        <govuk-summary-list-row-value>
          @Model.Contact.Email
        </govuk-summary-list-row-value>
      </govuk-summary-list-row>
    }
    @if (Model.Contact.Phone is not null && !string.IsNullOrEmpty(Model.Contact.Phone))
    {
    <govuk-summary-list-row>
      <govuk-summary-list-row-key>
        Phone
      </govuk-summary-list-row-key>
      <govuk-summary-list-row-value>
        @Model.Contact.Phone
      </govuk-summary-list-row-value>
    </govuk-summary-list-row>
    }
    @if (Model.IsProjectMainContact is true)
    {
    <govuk-summary-list-row>
      <govuk-summary-list-row-key>
        Project main contact
      </govuk-summary-list-row-key>
      <govuk-summary-list-row-value>
        @Model.IsProjectMainContact.ToYesNoString()
      </govuk-summary-list-row-value>
    </govuk-summary-list-row>
    }
    @if (Model.IsOrganisationPrimaryContact is not null)
    {
    <govuk-summary-list-row>
      <govuk-summary-list-row-key>
        Primary contact at organisation?
      </govuk-summary-list-row-key>
      <govuk-summary-list-row-value>
        @Model.IsOrganisationPrimaryContact.ToYesNoString()
      </govuk-summary-list-row-value>
    </govuk-summary-list-row>
    }
  </govuk-summary-list>
</govuk-summary-card>
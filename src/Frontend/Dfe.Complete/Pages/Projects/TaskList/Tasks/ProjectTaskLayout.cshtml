@page "/projects/{projectId:guid}/tasks/{taskId}"
@model Dfe.Complete.Pages.Projects.TaskListModel
@{
    ViewData["Title"] = Model.Title;
}

<div class="govuk-width-container">
    <main class="govuk-main-wrapper govuk-main-wrapper--auto-spacing" id="main-content" role="main">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-two-thirds">
                <h1 class="govuk-heading-l">@Model.Title</h1>

                <form method="post" class="govuk-form-group">
                    <div class="govuk-form-group">
                        <label class="govuk-label" for="exampleField">Example Field</label>
                        <input class="govuk-input" type="text" id="exampleField" name="exampleField" />
                    </div>
                    <div class="govuk-button-group">
                        <button class="govuk-button" type="submit">Submit</button>
                    </div>
                </form>

                <p>@Model.Notes.Count</p>
                @if (Model.Notes != null && Model.Notes.Any())
                {
                    <aside>
                        <h2 class="govuk-heading-m">Task notes</h2>
                        <a class="govuk-button govuk-button--secondary govuk-!-margin-bottom-3" href="@Url.Page("/Projects/Notes/New", new { projectId = Model.ProjectId, task_identifier = Model.TaskIdentifier })">Add note</a>
                        <ul class="list-style-none">
                        @foreach (var note in Model.Notes)
                        {
                            <li>
                                <p class="govuk-body govuk-!-margin-bottom-0">@note.CreatedAt.ToString("dd MMM yyyy")</p>
                                <h3 class="govuk-heading-s govuk-!-padding-top-0">@note.UserFullName</h3>
                                <p class="govuk-body">@note.Body</p>
                                <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible" />
                            </li>
                        }
                        </ul>
                    </aside>
                }
            </div>
        </div>
    </main>
</div>
@page "/projects/{projectId}/tasks/form_m"
@inject Microsoft.Extensions.Configuration.IConfiguration _configuration
@model Dfe.Complete.Pages.Projects.TaskList.Tasks.FormM.FormMModel
@{
    Layout = "_ProjectTaskLayout";
    ViewData["Title"] = "Form M";
}
@section TaskHeaderHintSection {
    <div class="govuk-hint">
        <p>Form M is used to gather details about the transfer of land from the outgoing trust to the incoming trust.</p>
        <p>The form should be completed and submitted by the outgoing trust.</p>
        <p>They need to include an official copy of the title plan, including the title number, and any freeholds as registered with the Land Registry.</p>
    </div>
}
@section TaskSection {

    <form method="post">
        <input type="hidden" asp-for="TasksDataId"/>
        <govuk-checkboxes name="options">
            <govuk-checkboxes-fieldset>
                <govuk-checkboxes-fieldset-legend>
                </govuk-checkboxes-fieldset-legend>
                <govuk-checkboxes-item id="not-applicable" data-cy="not-applicable" asp-for="@Model.NotApplicable" value="true" name="@nameof(Model.NotApplicable)" checked="@Model.NotApplicable">
                    <b>Not applicable</b>
                </govuk-checkboxes-item>
            </govuk-checkboxes-fieldset>
        </govuk-checkboxes>
        <div class="govuk-form-group">
            <h2 class="govuk-heading-l">Check and clear Form M</h2>
            <div class="govuk-hint">
                <p>You must check for anything that contradicts or references information in the 125 year lease.</p>
                <p>Contact the real estate team to discuss any issues.</p>
                <p>The names of the people you need to contact are in <external-link href="@_configuration["ExternalLinks:FormMGuidance"]">the Form M guidance (Word document)</external-link>.</p>
            </div>
        </div>
        <govuk-checkboxes name="options">
            <govuk-checkboxes-fieldset>
                <govuk-checkboxes-fieldset-legend>
                </govuk-checkboxes-fieldset-legend>
                <govuk-checkboxes-item id="@(nameof(Model.Received))" data-cy="received" asp-for="@Model.Received" value="true" name="@(nameof(Model.Received))" checked="@Model.Received">
                    <b>Received completed Form M from outgoing trust</b>
                </govuk-checkboxes-item>
                <govuk-checkboxes-item id="@(nameof(Model.ReceivedTitlePlans))" data-cy="received-title" asp-for="@Model.ReceivedTitlePlans" value="true" name="@(nameof(Model.ReceivedTitlePlans))" checked="@Model.ReceivedTitlePlans">
                    <b>Received title plans, numbers and freehold information</b>
                </govuk-checkboxes-item>
                <govuk-checkboxes-item id="@(nameof(Model.Cleared))" data-cy="cleared" asp-for="@Model.Cleared" value="true" name="@(nameof(Model.Cleared))" checked="@Model.Cleared">
                    <b>Cleared</b>
                </govuk-checkboxes-item>

                <govuk-checkboxes-item id="@(nameof(Model.Signed))" data-cy="signed" asp-for="@Model.Signed" value="true" name="@(nameof(Model.Signed))" checked="@Model.Signed">
                    <b>Signed by outgoing trust</b>
                </govuk-checkboxes-item>

                <govuk-checkboxes-item id="@(nameof(Model.Saved))" data-cy="signed" asp-for="@Model.Saved" value="true" name="@(nameof(Model.Saved))" checked="@Model.Saved">
                    <b>Saved in the academy SharePoint folder</b>
                </govuk-checkboxes-item>
            </govuk-checkboxes-fieldset>
        </govuk-checkboxes>

        @await Html.PartialAsync("_TaskSaveAndReturn", new TaskSaveAndReturnModel(Model.Project, Model.CurrentUserTeam))
    </form>
}
